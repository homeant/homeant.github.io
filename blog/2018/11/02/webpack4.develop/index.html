<!doctype html><html lang=zh><head><meta charset=utf-8><title>webpack4 开发环境搭建</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=keywords content="怪咖晨,个人博客,java,spring cloud,spring boot,huangtianhui,webpack4,webpack-chain,webpack-cli/init,javascript"><meta name=description content="webpack4 开发环境搭建"><meta name=author content="huangtianhui"><meta name=generator content="Hugo 0.78.1"><link rel=stylesheet href=https://tianhui.xin/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://tianhui.xin/plugins/themify-icons/themify-icons.css><link rel=stylesheet href=https://tianhui.xin/plugins/slick/slick.css><link href=https://tianhui.xin/css/animate.min.css rel=stylesheet media=screen><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@8.0.0/themes/reset-min.css integrity="sha256-2AeJLzExpZvqLUxMfcs+4DWcMwNfpnjUeAAvEtPr0wU=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/instantsearch.css@8.0.0/themes/satellite-min.css integrity="sha256-p/rGN4RGy6EDumyxF9t7LKxWGg6/MZfGhJM/asKkqvA=" crossorigin=anonymous><link href=https://tianhui.xin/css/style.min.aa098d6308cd50eb086d8a887786f77e.css rel=stylesheet media=screen><link rel="shortcut icon" href=https://tianhui.xin/images/favicon.png type=image/x-icon><link rel=icon href=https://tianhui.xin/images/favicon.png type=image/x-icon><meta property="og:title" content="webpack4 开发环境搭建"><meta property="og:description" content="webpack4 开发环境搭建"><meta property="og:type" content="article"><meta property="og:url" content="https://tianhui.xin/blog/2018/11/02/webpack4.develop/"><meta property="article:published_time" content="2018-11-02T16:00:00+00:00"><meta property="article:modified_time" content="2018-11-02T16:00:00+00:00"></head><body><div class=preloader></div><header class=header-area><div class=main-header-area><div class=container><nav class="navbar navbar-expand-lg navbar-light bg-transparent"><a class=nav-brand href=https://tianhui.xin/><img width=66px src=https://tianhui.xin/images/logo.png alt=怪咖晨></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navigation aria-expanded=false aria-label="Toggle navigation">
<i class=ti-menu></i></button><div class="collapse navbar-collapse" id=navigation><div class=navbar-close data-toggle=collapse data-target=#navigation><button class=navbar-toggler type=button>
<i class=ti-close></i></button></div><div class=navbar-warp><ul class="navbar-nav mx-auto"><li class=nav-item><a class=nav-link href=https://tianhui.xin/>首页</a></li><li class=nav-item><a class=nav-link href=https://tianhui.xin/blog>博客</a></li><li class=nav-item><a class=nav-link href=https://tianhui.xin/categories/%E5%AD%A6%E6%97%A0%E6%AD%A2%E5%A2%83/>学无止境</a></li><li class=nav-item><a class=nav-link href=https://tianhui.xin/about>关于我</a></li><li class=nav-item><a class=nav-link href=https://tianhui.xin/search>搜索</a></li></ul><a href=//github.com/homeant class="btn btn-sm btn-primary ml-3">关注我</a></div></div></nav></div></div></header><div class="banner-area bg-img" style=background-image:url(https://tianhui.xin/images/banner.png)><div class=container><div class="row justify-content-center"><div class="col-12 col-sm-9 col-xl-6"><div class="banner-content text-center"><h2>怪咖晨</h2><p>多年软件开发经验</p><p>致力于微服务、DDD实践</p></div></div></div></div></div><section class=section><div class=container><div class=row><div class="col-lg-10 mx-auto"><h2>webpack4 开发环境搭建</h2><div class=content><p>webpack4 开发环境搭建</p><h2 id=npm-初始化项目>npm 初始化项目</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yarn init
</code></pre></td></tr></table></div></div><h2 id=安装webpack依赖>安装webpack依赖</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yarn add webpack webpack-dev-server webpack-cli @webpack-cli/init --dev
</code></pre></td></tr></table></div></div><h2 id=webpack-初始化>webpack 初始化</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npx webpack-cli init
</code></pre></td></tr></table></div></div><hr><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=2>2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=3>3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=4>4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=5>5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=6>6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=7>7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>? Will your application have multiple bundles? Yes
? Type the names you want <span style=color:#000;font-weight:700>for</span> your modules <span style=color:#000;font-weight:700>(</span>entry files<span style=color:#000;font-weight:700>)</span>, separated by comma <span style=color:#000;font-weight:700>[</span>example: app,vendor<span style=color:#000;font-weight:700>]</span> app
? What is the location of <span style=color:#d14>&#34;app&#34;</span>? <span style=color:#000;font-weight:700>[</span>example: ./src/app<span style=color:#000;font-weight:700>]</span> ./src/app
? Which folder will your generated bundles be in? <span style=color:#000;font-weight:700>[</span>default: dist<span style=color:#000;font-weight:700>]</span>: dist
? Will you be using ES2015? Yes
? Will you use one of the below CSS solutions? SASS
yarn add v1.12.1
</code></pre></td></tr></table></div></div><h2 id=添加编译插件>添加编译插件</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=2>2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=3>3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=4>4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=5>5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=6>6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#998;font-style:italic>## 二选一</span>
<span style=color:#998;font-style:italic>## 1. class 写法 向下兼容</span>
yarn add @babel/plugin-proposal-class-properties --dev
<span style=color:#998;font-style:italic>## 2. babel 支持 import </span>
<span style=color:#998;font-style:italic>## yarn add @babel/plugin-syntax-dynamic-import --dev</span>
yarn add @babel/preset-env @babel/core cross-env --dev
</code></pre></td></tr></table></div></div><h2 id=安装loader>安装loader</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yarn add html-withimg-loader url-loader file-loader style-loader postcss-loader --dev
</code></pre></td></tr></table></div></div><h2 id=插件安装>插件安装</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yarn add mini-css-extract-plugin uglifyjs-webpack-plugin clean-webpack-plugin copy-webpack-plugin extract-css html-webpack-plugin --dev
</code></pre></td></tr></table></div></div><h2 id=安装webpack-chain>安装webpack-chain</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yarn add webpack-chain --dev
</code></pre></td></tr></table></div></div><p>此处<strong>webpack-chain</strong>为<strong>5.0.1</strong>版本，是针对<strong>webpack 4</strong>维护的，需特别注意</p><p>github地址：<a href=https://github.com/neutrinojs/webpack-chain/tree/v4>webpack-chain</a></p><h2 id=创建webpackconfigjs>创建webpack.config.js</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>  1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=2>  2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=3>  3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=4>  4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=5>  5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=6>  6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=7>  7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=8>  8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=9>  9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=10> 10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=11> 11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=12> 12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=13> 13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=14> 14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=15> 15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=16> 16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=17> 17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=18> 18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=19> 19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=20> 20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=21> 21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=22> 22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=23> 23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=24> 24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=25> 25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=26> 26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=27> 27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=28> 28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=29> 29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=30> 30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=31> 31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=32> 32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=33> 33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=34> 34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=35> 35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=36> 36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=37> 37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=38> 38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=39> 39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=40> 40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=41> 41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=42> 42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=43> 43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=44> 44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=45> 45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=46> 46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=47> 47
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=48> 48
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=49> 49
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=50> 50
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=51> 51
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=52> 52
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=53> 53
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=54> 54
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=55> 55
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=56> 56
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=57> 57
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=58> 58
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=59> 59
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=60> 60
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=61> 61
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=62> 62
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=63> 63
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=64> 64
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=65> 65
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=66> 66
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=67> 67
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=68> 68
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=69> 69
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=70> 70
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=71> 71
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=72> 72
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=73> 73
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=74> 74
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=75> 75
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=76> 76
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=77> 77
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=78> 78
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=79> 79
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=80> 80
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=81> 81
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=82> 82
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=83> 83
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=84> 84
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=85> 85
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=86> 86
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=87> 87
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=88> 88
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=89> 89
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=90> 90
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=91> 91
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=92> 92
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=93> 93
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=94> 94
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=95> 95
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=96> 96
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=97> 97
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=98> 98
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=99> 99
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=100>100
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=101>101
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=102>102
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=103>103
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=104>104
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=105>105
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=106>106
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=107>107
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=108>108
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=109>109
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=110>110
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=111>111
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=112>112
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=113>113
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=114>114
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=115>115
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=116>116
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=117>117
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=118>118
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=119>119
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=120>120
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=121>121
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=122>122
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=123>123
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=124>124
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=125>125
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=126>126
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=127>127
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=128>128
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=129>129
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=130>130
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=131>131
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=132>132
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=133>133
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=134>134
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=135>135
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=136>136
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=137>137
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=138>138
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=139>139
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=140>140
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=141>141
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=142>142
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=143>143
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=144>144
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=145>145
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=146>146
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=147>147
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=148>148
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=149>149
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=150>150
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=151>151
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=152>152
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=153>153
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=154>154
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=155>155
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=156>156
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=157>157
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=158>158
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=159>159
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=160>160
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=161>161
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=162>162
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=163>163
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=164>164
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=165>165
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=166>166
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=167>167
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>const <span style=color:teal>path</span> <span style=color:#000;font-weight:700>=</span> require<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;path&#39;</span><span style=color:#000;font-weight:700>)</span>;
const <span style=color:teal>isProd</span> <span style=color:#000;font-weight:700>=</span> process.env.NODE_ENV <span style=color:#000;font-weight:700>===</span> <span style=color:#d14>&#39;production&#39;</span>;
const <span style=color:teal>MiniCssExtractPlugin</span> <span style=color:#000;font-weight:700>=</span> require<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;mini-css-extract-plugin&#34;</span><span style=color:#000;font-weight:700>)</span>;

const <span style=color:teal>WebpackChain</span> <span style=color:#000;font-weight:700>=</span> require<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;webpack-chain&#39;</span><span style=color:#000;font-weight:700>)</span>;

const <span style=color:teal>config</span> <span style=color:#000;font-weight:700>=</span> new WebpackChain<span style=color:#000;font-weight:700>()</span>;

config.when<span style=color:#000;font-weight:700>(</span>isProd,config<span style=color:#000;font-weight:700>=</span>&gt;<span style=color:#000;font-weight:700>{</span>
    config.entry<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;index&#39;</span><span style=color:#000;font-weight:700>)</span>.add<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;./src/index.js&#39;</span><span style=color:#000;font-weight:700>)</span>;
<span style=color:#000;font-weight:700>})</span>.when<span style=color:#000;font-weight:700>(</span>!isProd,config<span style=color:#000;font-weight:700>=</span>&gt;<span style=color:#000;font-weight:700>{</span>
    config.entry<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;index&#39;</span><span style=color:#000;font-weight:700>)</span>.add<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;./src/index.js&#39;</span><span style=color:#000;font-weight:700>)</span>;
<span style=color:#000;font-weight:700>})</span>
// Modify output settings
    .output
    .path<span style=color:#000;font-weight:700>(</span>path.join<span style=color:#000;font-weight:700>(</span>__dirname, <span style=color:#d14>&#34;dist&#34;</span><span style=color:#000;font-weight:700>))</span>.filename<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;[name].js&#39;</span><span style=color:#000;font-weight:700>)</span>.end<span style=color:#000;font-weight:700>()</span>
    .when<span style=color:#000;font-weight:700>(</span>isProd, <span style=color:teal>config</span> <span style=color:#000;font-weight:700>=</span>&gt; <span style=color:#000;font-weight:700>{</span>
        config.mode<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;production&#39;</span><span style=color:#000;font-weight:700>)</span>;
    <span style=color:#000;font-weight:700>})</span>.when<span style=color:#000;font-weight:700>(</span>!isProd,config<span style=color:#000;font-weight:700>=</span>&gt;<span style=color:#000;font-weight:700>{</span>
    config.mode<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;development&#39;</span><span style=color:#000;font-weight:700>)</span>.devtool<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;source-map&#39;</span><span style=color:#000;font-weight:700>)</span>;
<span style=color:#000;font-weight:700>})</span>.end<span style=color:#000;font-weight:700>()</span>;

/**
 * module
 */
config
    .module
    .rule<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;compile&#34;</span><span style=color:#000;font-weight:700>)</span>
    .test<span style=color:#000;font-weight:700>(</span>/<span style=color:#d14>\.</span>js$/<span style=color:#000;font-weight:700>)</span>
    .include.add<span style=color:#000;font-weight:700>(</span>path.join<span style=color:#000;font-weight:700>(</span>__dirname,<span style=color:#d14>&#39;src&#39;</span><span style=color:#000;font-weight:700>))</span>.end<span style=color:#000;font-weight:700>()</span>
    .exclude.add<span style=color:#000;font-weight:700>(</span>/node_modules/<span style=color:#000;font-weight:700>)</span>.end<span style=color:#000;font-weight:700>()</span>
    .use<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;babel&#39;</span><span style=color:#000;font-weight:700>)</span>.loader<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;babel-loader&#34;</span><span style=color:#000;font-weight:700>)</span>
    .options<span style=color:#000;font-weight:700>({</span>
        presets: <span style=color:#000;font-weight:700>[</span><span style=color:#d14>&#39;@babel/preset-env&#39;</span><span style=color:#000;font-weight:700>]</span>,
        plugins: <span style=color:#000;font-weight:700>[</span><span style=color:#d14>&#39;@babel/plugin-proposal-class-properties&#39;</span><span style=color:#000;font-weight:700>]</span>
    <span style=color:#000;font-weight:700>})</span>;

config.module
    .rule<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;images&#39;</span><span style=color:#000;font-weight:700>)</span>
    .test<span style=color:#000;font-weight:700>(</span>/<span style=color:#d14>\.</span><span style=color:#000;font-weight:700>(</span>png|jpg|jpeg|gif<span style=color:#000;font-weight:700>)</span>/<span style=color:#000;font-weight:700>)</span>
    .use<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;url-loader&#39;</span><span style=color:#000;font-weight:700>)</span>
    .loader<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;url-loader&#39;</span><span style=color:#000;font-weight:700>)</span>
    .options<span style=color:#000;font-weight:700>({</span>
        limit: <span style=color:#099>1</span> * 1024,
        name: path.posix.join<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;images&#34;</span>,<span style=color:#d14>&#34;[name].[ext]&#34;</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000;font-weight:700>})</span>

// <span style=color:#000;font-weight:700>do</span> not base64-inline SVGs.
// https://github.com/facebookincubator/create-react-app/pull/1180
config.module
    .rule<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;svg&#39;</span><span style=color:#000;font-weight:700>)</span>
    .test<span style=color:#000;font-weight:700>(</span>/<span style=color:#d14>\.</span><span style=color:#000;font-weight:700>(</span>svg<span style=color:#000;font-weight:700>)(</span><span style=color:#d14>\?</span>.*<span style=color:#000;font-weight:700>)</span>?$/<span style=color:#000;font-weight:700>)</span>
    .use<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;url-loader&#39;</span><span style=color:#000;font-weight:700>)</span>
    .loader<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;url-loader&#39;</span><span style=color:#000;font-weight:700>)</span>
    .options<span style=color:#000;font-weight:700>({</span>
        limit: <span style=color:#099>1024</span> * 3,//30kb
        fallback: <span style=color:#d14>&#39;file-loader&#39;</span>
    <span style=color:#000;font-weight:700>})</span>

config.module
    .rule<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;fonts&#34;</span><span style=color:#000;font-weight:700>)</span>
    .test<span style=color:#000;font-weight:700>(</span>/<span style=color:#d14>\.</span><span style=color:#000;font-weight:700>(</span>woff2?|eot|ttf|otf<span style=color:#000;font-weight:700>)(</span><span style=color:#d14>\?</span>.*<span style=color:#000;font-weight:700>)</span>?$/i<span style=color:#000;font-weight:700>)</span>
    .use<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;url-loader&#39;</span><span style=color:#000;font-weight:700>)</span>
    .loader<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;url-loader&#39;</span><span style=color:#000;font-weight:700>)</span>
    .options<span style=color:#000;font-weight:700>({</span>
        limit: 10000,
        fallback: <span style=color:#000;font-weight:700>{</span>
            loader: <span style=color:#d14>&#39;file-loader&#39;</span>,
            options: <span style=color:#000;font-weight:700>{</span>
                name: path.posix.join<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;fonts&#34;</span>,<span style=color:#d14>&#34;[name].[ext]&#34;</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#000;font-weight:700>}</span>
        <span style=color:#000;font-weight:700>}</span>
    <span style=color:#000;font-weight:700>})</span>;

config.when<span style=color:#000;font-weight:700>(</span>isProd,config<span style=color:#000;font-weight:700>=</span>&gt;<span style=color:#000;font-weight:700>{</span>
    config.module.rule<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;css&#34;</span><span style=color:#000;font-weight:700>)</span>.test<span style=color:#000;font-weight:700>(</span>/<span style=color:#d14>\.</span><span style=color:#000;font-weight:700>(</span>sa|sc|c<span style=color:#000;font-weight:700>)</span>ss$/<span style=color:#000;font-weight:700>)</span>
        .use<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;style&#34;</span><span style=color:#000;font-weight:700>)</span>.loader<span style=color:#000;font-weight:700>(</span>MiniCssExtractPlugin.loader<span style=color:#000;font-weight:700>)</span>;
<span style=color:#000;font-weight:700>})</span>.when<span style=color:#000;font-weight:700>(</span>!isProd,config<span style=color:#000;font-weight:700>=</span>&gt;<span style=color:#000;font-weight:700>{</span>
    config.module.rule<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;css&#34;</span><span style=color:#000;font-weight:700>)</span>.test<span style=color:#000;font-weight:700>(</span>/<span style=color:#d14>\.</span><span style=color:#000;font-weight:700>(</span>sa|sc|c<span style=color:#000;font-weight:700>)</span>ss$/<span style=color:#000;font-weight:700>)</span>
        .use<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;style-loader&#34;</span><span style=color:#000;font-weight:700>)</span>.loader<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;style-loader&#34;</span><span style=color:#000;font-weight:700>)</span>;
<span style=color:#000;font-weight:700>})</span>;

config.module.rule<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;css&#34;</span><span style=color:#000;font-weight:700>)</span>.test<span style=color:#000;font-weight:700>(</span>/<span style=color:#d14>\.</span><span style=color:#000;font-weight:700>(</span>sa|sc|c<span style=color:#000;font-weight:700>)</span>ss$/<span style=color:#000;font-weight:700>)</span>
    .use<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;css&#39;</span><span style=color:#000;font-weight:700>)</span>.loader<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;css-loader&#34;</span><span style=color:#000;font-weight:700>)</span>.end<span style=color:#000;font-weight:700>()</span>
    .use<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;postcss-loader&#39;</span><span style=color:#000;font-weight:700>)</span>.loader<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;postcss-loader&#39;</span><span style=color:#000;font-weight:700>)</span>;

config.module.rule<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;scss&#34;</span><span style=color:#000;font-weight:700>)</span>.test<span style=color:#000;font-weight:700>(</span>/<span style=color:#d14>\.</span><span style=color:#000;font-weight:700>(</span>sa|sc<span style=color:#000;font-weight:700>)</span>ss$/<span style=color:#000;font-weight:700>)</span>.use<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;sass-loader&#34;</span><span style=color:#000;font-weight:700>)</span>.loader<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;sass-loader&#34;</span><span style=color:#000;font-weight:700>)</span>;

config.module.rule<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;lass&#34;</span><span style=color:#000;font-weight:700>)</span>.test<span style=color:#000;font-weight:700>(</span>/<span style=color:#d14>\.</span>less$/<span style=color:#000;font-weight:700>)</span>.use<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;less-loader&#34;</span><span style=color:#000;font-weight:700>)</span>.loader<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;less-loader&#34;</span><span style=color:#000;font-weight:700>)</span>;

//config.module.rule<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;html&#34;</span><span style=color:#000;font-weight:700>)</span>.test<span style=color:#000;font-weight:700>(</span>/<span style=color:#d14>\.</span><span style=color:#000;font-weight:700>(</span>htm|html<span style=color:#000;font-weight:700>)</span>$/i<span style=color:#000;font-weight:700>)</span>.use<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;html&#34;</span><span style=color:#000;font-weight:700>)</span>.loader<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;html-withimg-loader&#39;</span><span style=color:#000;font-weight:700>)</span>;

/**
 * plugin
 */
config.when<span style=color:#000;font-weight:700>(</span>isProd,config<span style=color:#000;font-weight:700>=</span>&gt;<span style=color:#000;font-weight:700>{</span>
    const <span style=color:teal>UglifyJSPlugin</span> <span style=color:#000;font-weight:700>=</span> require<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;uglifyjs-webpack-plugin&#39;</span><span style=color:#000;font-weight:700>)</span>;
    const <span style=color:teal>CleanWebpackPlugin</span> <span style=color:#000;font-weight:700>=</span> require<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;clean-webpack-plugin&#39;</span><span style=color:#000;font-weight:700>)</span>;
    const <span style=color:teal>CopyWebpackPlugin</span> <span style=color:#000;font-weight:700>=</span> require<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;copy-webpack-plugin&#34;</span><span style=color:#000;font-weight:700>)</span>;

    config.plugin<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;clear&#34;</span><span style=color:#000;font-weight:700>)</span>.use<span style=color:#000;font-weight:700>(</span>new CleanWebpackPlugin<span style=color:#000;font-weight:700>([</span>path.join<span style=color:#000;font-weight:700>(</span>__dirname, <span style=color:#d14>&#39;dist&#39;</span><span style=color:#000;font-weight:700>)]))</span>;
    config.optimization.splitChunks<span style=color:#000;font-weight:700>({</span>
        cacheGroups: <span style=color:#000;font-weight:700>{</span>
            commons: <span style=color:#000;font-weight:700>{</span>
                chunks: <span style=color:#d14>&#34;initial&#34;</span>,
                name: <span style=color:#d14>&#34;common&#34;</span>,
                minChunks: 2,
                maxInitialRequests: 5, // The default limit is too small to showcase the effect
                minSize: 0, // This is example is too small to create commons chunks
                reuseExistingChunk: <span style=color:#0086b3>true</span> // 可设置是否重用该chunk（查看源码没有发现默认值）
            <span style=color:#000;font-weight:700>}</span>
        <span style=color:#000;font-weight:700>}</span>
    <span style=color:#000;font-weight:700>})</span>;
    config.plugin<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;js&#34;</span><span style=color:#000;font-weight:700>)</span>.use<span style=color:#000;font-weight:700>(</span>new UglifyJSPlugin<span style=color:#000;font-weight:700>({}))</span>;
    config.plugin<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;extract-css&#39;</span><span style=color:#000;font-weight:700>)</span>
        .use<span style=color:#000;font-weight:700>(</span>MiniCssExtractPlugin, <span style=color:#000;font-weight:700>[{</span>
            filename: <span style=color:#d14>&#34;css/[name].css&#34;</span>,
            chunkFilename: <span style=color:#d14>&#34;css/[name].css&#34;</span>
        <span style=color:#000;font-weight:700>}])</span>;
    // config.plugin<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;copy&#39;</span><span style=color:#000;font-weight:700>)</span>.use<span style=color:#000;font-weight:700>(</span>new CopyWebpackPlugin<span style=color:#000;font-weight:700>([</span>
    //     <span style=color:#000;font-weight:700>{</span>
    //         from:<span style=color:#d14>&#34;./src/sass&#34;</span>,
    //     <span style=color:#000;font-weight:700>}</span>
    // <span style=color:#000;font-weight:700>]))</span>
<span style=color:#000;font-weight:700>})</span>

const <span style=color:teal>HtmlWebpackPlugin</span> <span style=color:#000;font-weight:700>=</span> require<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;html-webpack-plugin&#39;</span><span style=color:#000;font-weight:700>)</span>;
config.plugin<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;html&#34;</span><span style=color:#000;font-weight:700>)</span>.use<span style=color:#000;font-weight:700>(</span>HtmlWebpackPlugin, <span style=color:#000;font-weight:700>[{</span>
    /*
     template 参数指定入口 html 文件路径，插件会把这个文件交给 webpack 去编译，
     webpack 按照正常流程，找到 loaders 中 <span style=color:#0086b3>test</span> 条件匹配的 loader 来编译，那么这里 html-loader 就是匹配的 loader
     html-loader 编译后产生的字符串，会由 html-webpack-plugin 储存为 html 文件到输出目录，默认文件名为 index.html
     可以通过 filename 参数指定输出的文件名
     html-webpack-plugin 也可以不指定 template 参数，它会使用默认的 html 模板。
     */
    template: <span style=color:#d14>&#34;./public/index.html&#34;</span>,
    filename:<span style=color:#d14>&#34;index.html&#34;</span>,
    /*
     因为和 webpack <span style=color:#099>4</span> 的兼容性问题，chunksSortMode 参数需要设置为 none
     https://github.com/jantimon/html-webpack-plugin/issues/870
     */
    chunksSortMode: <span style=color:#d14>&#39;none&#39;</span>,
    xhtml: true,
    minify: <span style=color:#000;font-weight:700>{</span>
        collapseWhitespace: false, //删除空格，但是不会删除SCRIPT、style和textarea中的空格
        conservativeCollapse: false, //删除空格，总是保留一个空格
        removeAttributeQuotes: false, //删除引号，删除不需要引号的值
        useShortDoctype: false, //使用短的文档类型
        removeComments: true,
        collapseBooleanAttributes: true,
        removeScriptTypeAttributes: <span style=color:#0086b3>true</span>
        // more options:
        // https://github.com/kangax/html-minifier#options-quick-reference
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}])</span>;


config.when<span style=color:#000;font-weight:700>(</span>isProd,config<span style=color:#000;font-weight:700>=</span>&gt;<span style=color:#000;font-weight:700>{</span>

<span style=color:#000;font-weight:700>})</span>.when<span style=color:#000;font-weight:700>(</span>!isProd,config<span style=color:#000;font-weight:700>=</span>&gt;<span style=color:#000;font-weight:700>{</span>
    config.devServer.host<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#39;localhost&#39;</span><span style=color:#000;font-weight:700>)</span>.port<span style=color:#000;font-weight:700>(</span>8080<span style=color:#000;font-weight:700>)</span>.open<span style=color:#000;font-weight:700>(</span>process.os <span style=color:#000;font-weight:700>===</span> <span style=color:#d14>&#39;darwin&#39;</span><span style=color:#000;font-weight:700>)</span>;
<span style=color:#000;font-weight:700>})</span>

config.resolve.alias.set<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;@&#34;</span>,path.join<span style=color:#000;font-weight:700>(</span>__dirname,<span style=color:#d14>&#34;src&#34;</span><span style=color:#000;font-weight:700>))</span>;

// Export the completed configuration object to be consumed by webpack
module.exports <span style=color:#000;font-weight:700>=</span> config.toConfig<span style=color:#000;font-weight:700>()</span>;
</code></pre></td></tr></table></div></div><h2 id=添加启动脚本>添加启动脚本</h2><p>修改<strong>package.json</strong>文件中<strong>scripts</strong>节点，加入如下配置:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=2>2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=3>3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=4>4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>  <span style=color:#d14>&#34;scripts&#34;</span>: <span style=color:#000;font-weight:700>{</span>
    <span style=color:#d14>&#34;dev&#34;</span>: <span style=color:#d14>&#34;cross-env NODE_ENV=development webpack-dev-server&#34;</span>,
    <span style=color:#d14>&#34;build&#34;</span>: <span style=color:#d14>&#34;cross-env NODE_ENV=production webpack&#34;</span>
  <span style=color:#000;font-weight:700>}</span>
</code></pre></td></tr></table></div></div><h2 id=创建postcssconfigjs>创建postcss.config.js</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=2> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=3> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=4> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=5> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=6> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=7> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=8> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=9> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=10>10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=11>11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=12>12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=13>13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>module.exports <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span>
    plugins: <span style=color:#000;font-weight:700>{</span>
        autoprefixer: <span style=color:#000;font-weight:700>{</span>
            <span style=color:#d14>&#34;browsers&#34;</span>: <span style=color:#000;font-weight:700>[</span>
                <span style=color:#d14>&#34;ie &gt;= 9&#34;</span>,
                <span style=color:#d14>&#34;ff &gt;= 30&#34;</span>,
                <span style=color:#d14>&#34;chrome &gt;= 34&#34;</span>,
                <span style=color:#d14>&#34;safari &gt;= 7&#34;</span>,
                <span style=color:#d14>&#34;opera &gt;= 23&#34;</span>
            <span style=color:#000;font-weight:700>]</span>
        <span style=color:#000;font-weight:700>}</span>
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></td></tr></table></div></div><h2 id=创建srcindexjs>创建src/index.js</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=2>2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=3>3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=4>4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=5>5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#0086b3>export</span> default  class demo <span style=color:#000;font-weight:700>{</span>
    constructor<span style=color:#000;font-weight:700>(){</span>
        console.log<span style=color:#000;font-weight:700>(</span><span style=color:#d14>&#34;init&#34;</span><span style=color:#000;font-weight:700>)</span>;
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></td></tr></table></div></div><h2 id=创建exampleindexjs>创建example/index.js</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=2>2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=3>3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>import Demo from <span style=color:#d14>&#34;../src/index&#34;</span>;

const <span style=color:teal>demo</span> <span style=color:#000;font-weight:700>=</span> new Demo<span style=color:#000;font-weight:700>()</span>;
</code></pre></td></tr></table></div></div><h2 id=根目录创建indexhtml>根目录创建index.html</h2><h2 id=启动>启动</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=1>1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yarn run dev
</code></pre></td></tr></table></div></div></div></div></div></div><div class=container><div class=row><div class="col-lg-10 mx-auto"><div id=gitalk-comments></div><link href=//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css rel=stylesheet><script src=//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js></script><script type=application/javascript>const gitalk=new Gitalk({clientID:'6c2478e5c574adadad50',clientSecret:'0aecf2c4c0d2f26b9e277f1a6c45f27b617e4e4a',repo:'comment.tianhui.xin',owner:'homeant',admin:['homeant'],id:'826749f40f98ac22ac948c484464b220',distractionFreeMode:true})
gitalk.render('gitalk-comments')</script></div></div></div></section><footer class="bg-light section pb-0"><div class=container><div class=row><div class="col-md-3 col-sm-6 mb-5"><h3 class=mb-4>个人链接</h3><ul class="list-unstyled footer-list"><li><a href=https://tianhui.xin/about>关于我</a></li><li><a href=//github.com/homeant>GitHub</a></li></ul></div><div class="col-md-3 col-sm-6 mb-5"><h3 class=mb-4>最新文章</h3><ul class="list-unstyled footer-list"><li><a href=https://tianhui.xin/blog/2022/01/02/spring-boot-admin-kubernetes/>Spring Boot Admin On Kubernetes</a></li><li><a href=https://tianhui.xin/blog/2021/09/16/spring-conditional-annotations/>Spring Conditional详解</a></li><li><a href=https://tianhui.xin/blog/2021/04/03/mybatis_data_encryption/>mybatis对数据进行加密</a></li><li><a href=https://tianhui.xin/blog/2020/06/27/spring_cloud_nacos/>跟我学SpringCloud 之 nacos</a></li><li><a href=https://tianhui.xin/blog/2020/06/21/mapstruct/>一见倾心之初遇MapStruct</a></li><li><a href=https://tianhui.xin/blog/2020/05/31/mybatisinterceptorofdatamasking/>Mybatis Interceptor 实现数据脱敏</a></li></ul></div><div class="col-md-3 col-sm-6 mb-5"><h3 class=mb-4>友情链接</h3><ul class="list-unstyled footer-list"><li><a href=http://xujin.org/>玹霖志</a></li><li><a href=https://itachi.xyz/>昨夜梦 今辰你 明日思</a></li></ul></div><div class="col-md-3 col-sm-6 mb-5"><a class="d-block mb-3" href=https://tianhui.xin/><img width=66px class=img-fluid src=https://tianhui.xin/images/logo.png alt=怪咖晨></a><p class=mb-4>有智者立长志，无志者长立志。</p><ul class="list-inline social-icons"><li class=list-inline-item><a href=//github.com/homeant><i class=ti-github></i></a></li></ul></div></div><div class="border-top border-default text-center py-4 mt-4"><small class=content>© 2009-2020 <a href=//tianhui.xin>tianhui.xin</a> 版权所有 ICP证：<a href=http://www.beian.miit.gov.cn>京16046477</a></small>
您是本站第<span id=busuanzi_value_site_uv></span>位访客</div></div></footer><script src=https://tianhui.xin/plugins/jQuery/jquery.min.js></script><script src=https://tianhui.xin/plugins/bootstrap/bootstrap.min.js></script><script src=https://tianhui.xin/plugins/slick/slick.min.js></script><script src=https://tianhui.xin/plugins/love-click.js></script><script src=https://cdn.bootcdn.net/ajax/libs/jquery.sticky/1.0.4/jquery.sticky.min.js></script><script src=https://tianhui.xin/plugins/scrollUp/scrollUp.min.js></script><script src=https://tianhui.xin/plugins/clipboard/clipboard.js></script><script src=https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch-lite.umd.js integrity="sha256-EXPXz4W6pQgfYY3yTpnDa3OH8/EPn16ciVsPQ/ypsjk=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4.8.3/dist/instantsearch.production.min.js integrity="sha256-LAGhRRdtVoD6RLo2qDQsU2mp+XVSciKRC8XPOBWmofM=" crossorigin=anonymous></script><script src=https://tianhui.xin/js/app.c626aab600fdfdf0c064234dd1dc543b.js></script><script src=https://tianhui.xin/js/post.2ce597fd293e38d5be795230098b93c0.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><div class=scrollUp><i class=ti-angle-up></i></div></body></html>