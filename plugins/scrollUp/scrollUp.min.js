/*!
 * scrollup v3.0.0-dev
 * http://markgoodyear.com/labs/scrollup/
 * Copyright (c) Mark Goodyear — @markgdyr — http://markgoodyear.com
 * License:
 */
!function(e,n){"function"==typeof define&&define.amd?define([],function(){return n()}):"object"==typeof exports?module.exports=n():e.ScrollUp=n()}(this,function(){"use strict";var e={};e.VERSION="3.0.0",e.settings={};var n,t,o,l,r,i,s,c=!0,u=!1,a={triggerTemplate:!1,scrollDistance:400,scrollThrottle:250,scrollDuration:500,scrollEasing:"linear",scrollTarget:!1,scrollElement:window,classes:{init:"scrollup--init",show:"scrollup--show",hide:"scrollup--hide"},onInit:null,onDestroy:null,onShow:null,onHide:null,onTop:null},d=["querySelector"in document,"addEventListener"in window,"requestAnimationFrame"in window,"classList"in document.documentElement,!!Array.prototype.every],f=function(e){var n,t={},o=1,l=function(e){for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&("[object Object]"===Object.prototype.toString.call(e[n])?t[n]=f(t[n],e[n]):t[n]=e[n])};for(l(arguments[0]),o=1;o<arguments.length;o++){var r=arguments[o];l(r)}return t},m=function(e,n){var t,o,l,r=Date.now||function(){return(new Date).getTime()},i=null,s=0,c=function(){s=r(),i=null,l=e.apply(t,o),t=o=null};return function(){var u=r(),a=n-(u-s);return t=this,o=arguments,0>=a?(clearTimeout(i),i=null,s=u,l=e.apply(t,o),t=o=null):i||(i=setTimeout(c,a)),l}},p={linear:function(e,n,t,o){return t*e/o+n},easeInOutQuad:function(e,n,t,o){return e/=o/2,1>e?t/2*e*e+n:(e--,-t/2*(e*(e-2)-1)+n)},easeInOutCube:function(e,n,t,o){return e/=o/2,1>e?t/2*e*e*e+n:(e-=2,t/2*(e*e*e+2)+n)}},g=function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},h=function(e){for(var n=0;e;)n+=e.offsetTop,e=e.offsetParent;return n},v=function(e){return e.every(Boolean)},w=function(e){n||(n=e);var i=e-n,s=p[r.scrollEasing](i,t,-t+o,r.scrollDuration);window.scrollTo(0,s),i<r.scrollDuration?l=requestAnimationFrame(w):T()},T=function(){n=null,t=null,o=null,cancelAnimationFrame(l),r.onTop&&r.onTop.call(i)},y=function(){if(g()>r.scrollDistance){if(u)return;e.showTrigger()}else{if(!u)return;e.hideTrigger()}},E=function(e){e.preventDefault(),o=h(document.querySelector(r.scrollTarget))||0,t=g(),l=requestAnimationFrame(w)},L=function(e){var n=document.createElement("div");n.innerHTML=e;var t=n.firstChild;return document.body.appendChild(t)};return e.cutsTheMustard=v(d),e.init=function(n,t){e.cutsTheMustard&&(e.destroy(),"object"==typeof n&&(t=n),e.settings=r=f(a,t||{}),i=r.triggerTemplate?L(r.triggerTemplate):document.querySelector(n),s=m(y,r.scrollThrottle),r.scrollElement.addEventListener("scroll",s,!1),i.addEventListener("click",E,!1),r.onInit&&r.onInit.call(i))},e.showTrigger=function(){c&&e.handleInitialState(),i.classList.contains(r.classes.hide)&&i.classList.remove(r.classes.hide),i.classList.add(r.classes.show),u=!0,r.onShow&&r.onShow.call(i)},e.hideTrigger=function(){i.classList.contains(r.classes.show)&&i.classList.remove(r.classes.show),i.classList.add(r.classes.hide),u=!1,r.onHide&&r.onHide.call(i)},e.handleInitialState=function(){i.classList.add(r.classes.init),c=!1},e.destroy=function(){r&&(r.scrollElement.removeEventListener("scroll",s),i.removeEventListener("click",E),r.triggerTemplate&&i.parentNode.removeChild(i),r.onDestroy&&r.onDestroy.call(i),c=!0,u=!1,n=null,t=null,o=null,l=null,r=null,i=null,s=null)},e});